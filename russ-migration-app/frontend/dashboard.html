<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Migration Assessment Dashboard | RUSS Analyser</title>
  <link rel="stylesheet" href="/frontend/style.css" />
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

  <style>
    /* Header */
    .header {
      background: linear-gradient(to right, #003366, #0066a1);
      color: white; padding: 25px 40px;
      display: flex; justify-content: center; align-items: center;
      position: relative; border-bottom: 3px solid #004c7d;
    }
    .header h1 { margin: 0; font-size: 26px; font-weight: 700; }
    .tagline { margin-top: 6px; font-size: 15px; color: #e0ecf5; }
    .header-right { position: absolute; right: 40px; top: 15px; display: flex; align-items: center; gap: 15px; }
    .logo { height: 50px; width: auto; }

    .profile-menu { position: relative; }
    .profile-icon {
      width: 40px; height: 40px; border-radius: 50%;
      background-color: #005b7f; color: white;
      display: flex; align-items: center; justify-content: center;
      cursor: pointer; font-weight: bold; overflow: hidden;
    }
    .profile-icon img {
      width: 40px; height: 40px; border-radius: 50%;
      object-fit: cover; display: none;
    }
    .dropdown {
      position: absolute; top: 50px; right: 0;
      background: white; color: #003366; border-radius: 8px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.1);
      display: none; flex-direction: column; width: 180px; z-index: 10;
      opacity: 0; transform: translateY(-10px);
      transition: opacity 0.2s ease, transform 0.2s ease;
    }
    .dropdown a { padding: 10px; text-decoration: none; color: #003366; border-bottom: 1px solid #eee; }
    .dropdown a:hover { background: #f2f8fb; }
    .profile-menu.active .dropdown { display: flex; opacity: 1; transform: translateY(0); }

    /* Page */
    .main-content { padding: 30px; max-width: 1200px; margin: 0 auto; }

    /* Filters */
    .filters { margin-top: 20px; text-align: center; }
    .filters h3 { color: #003366; margin-bottom: 12px; }
    .filters .row { display: flex; flex-wrap: wrap; justify-content: center; gap: 12px; }
    .filters select, .filters input[type="date"] {
      padding: 8px; border-radius: 6px; border: 1px solid #ccc; min-width: 160px;
    }
    .btn {
      display: inline-block; background: #006994; color: white; padding: 10px 16px;
      margin: 8px; border-radius: 8px; text-decoration: none; font-weight: 600; border: none; cursor: pointer;
    }
    .btn:hover { background: #005b7f; }

    /* Table */
    table {
      width: 100%; border-collapse: collapse; margin-top: 20px; background: white;
      border-radius: 12px; overflow: hidden; font-size: 14px;
    }
    th, td { padding: 10px; border-bottom: 1px solid #ccc; text-align: left; }
    th { background: #006994; color: white; }
    tr:hover { background: #f2f8fb; }

    .actions { margin-top: 16px; display: flex; gap: 10px; flex-wrap: wrap; align-items: center; }
    .pagination { margin-left: auto; display: flex; align-items: center; gap: 8px; }
    .pagination button { background: #006994; color: white; border: none; padding: 6px 14px; border-radius: 6px; cursor: pointer; }
    .pagination button:disabled { background: #ccc; cursor: not-allowed; }
    #pageInfo { color: #003366; font-weight: 600; }

    /* Charts Grid */
    #chartArea { margin-top: 28px; display: grid; grid-template-columns: repeat(2, minmax(0, 1fr)); gap: 18px; }
    .chart-card {
      background: #fff; border-radius: 12px; padding: 16px; box-shadow: 0 2px 10px rgba(0,0,0,0.06);
      display: flex; flex-direction: column; gap: 8px;
    }
    .chart-card h4 {
      margin: 0; color: #003366; font-size: 15px; font-weight: 700;
      border-bottom: 1px solid #eef3f8; padding-bottom: 6px;
    }

    .footer { text-align: center; margin-top: 40px; padding: 15px 0; font-size: 14px; color: #666; }
  </style>
</head>

<body>
  <header class="header">
    <div class="header-left">
      <h1>RUSS Analyser</h1>
      <p class="tagline">Migration Performance Assessment Dashboard</p>
    </div>
    <div class="header-right">
      <div class="profile-menu" id="profileMenu">
        <div class="profile-icon" id="profileIcon">
          <img id="user-avatar-img" src="" alt="User" />
          <span id="user-avatar-letter">U</span>
        </div>
        <div class="dropdown">
          <a href="/frontend/profile.html">Profile Settings</a>
          <a href="/frontend/admin.html">Admin Options</a>
          <a href="#" id="logoutBtn">Logout</a>
        </div>
      </div>
      <img src="/frontend/assets/russ_logo-removebg-preview.png" alt="RUSS Consultancy Logo" class="logo" />
    </div>
  </header>

  <main class="main-content">
    <div class="actions">
      <a href="/frontend/index.html" class="btn">üîô Back to Main Tool</a>
      <a href="#" id="exportCSV" class="btn">Export CSV</a>
      <a href="#" id="exportPDF" class="btn">Export PDF</a>

      <div class="pagination">
        <button id="prevBtn">Prev</button>
        <span id="pageInfo">Page 1 of 1</span>
        <button id="nextBtn">Next</button>
      </div>
    </div>

    <section class="filters">
      <h3>üîç Filter Results</h3>
      <div class="row">
        <select id="filter-cloud">
          <option value="">All Clouds</option>
          <option value="AZURE">Azure</option>
          <option value="AWS">AWS</option>
          <option value="OCI">OCI</option>
        </select>
        <select id="filter-source">
          <option value="">All Sources</option>
          <option value="AWR Analysis">AWR Analysis</option>
          <option value="Manual Input">Manual Input</option>
        </select>
        <input type="date" id="filter-date" />
        <button id="applyFilters" class="btn" style="width:auto;">Apply Filters</button>
        <button id="clearFilters" class="btn" style="background:#888; width:auto;">Clear</button>
      </div>
    </section>

    <table id="resultsTable">
      <thead>
        <tr>
          <th colspan="6" style="background:#004c7d;">Workload Input Data</th>
          <th colspan="6" style="background:#006994;">Recommended VM Configuration</th>
        </tr>
        <tr>
          <th>Source</th>
          <th>DB Name</th>
          <th>Cloud</th>
          <th>vCPUs</th>
          <th>Memory (GB)</th>
          <th>IOPS</th>
          <th>Throughput (MB/s)</th>
          <th>VM Name</th>
          <th>VM vCPUs</th>
          <th>VM Memory (GB)</th>
          <th>Category</th>
          <th>Monthly Cost (USD)</th>
        </tr>
      </thead>
      <tbody></tbody>
    </table>

    <!-- 8 charts in a 2-column grid -->
    <section id="chartArea">
      <div class="chart-card"><h4>Total Monthly Cost Trend</h4><canvas id="costTrendChart" height="240"></canvas></div>
      <div class="chart-card"><h4>Workload Count by Cloud</h4><canvas id="workloadByCloudChart" height="240"></canvas></div>

      <div class="chart-card"><h4>Category Distribution</h4><canvas id="categoryPieChart" height="240"></canvas></div>
      <div class="chart-card"><h4>Top 10 Costliest Workloads</h4><canvas id="topCostChart" height="240"></canvas></div>

      <div class="chart-card"><h4>vCPU by Category</h4><canvas id="vcpuByCategoryChart" height="240"></canvas></div>
      <div class="chart-card"><h4>Memory by Category</h4><canvas id="memByCategoryChart" height="240"></canvas></div>

      <div class="chart-card"><h4>IOPS by Cloud</h4><canvas id="iopsByCloudPie" height="240"></canvas></div>
      <div class="chart-card"><h4>Throughput by Cloud</h4><canvas id="tpByCloudPie" height="240"></canvas></div>
    </section>
  </main>

  <footer class="footer">
    ¬© 2025 RUSS Consultancy Services | Experience At Work
  </footer>

  <script src="/frontend/script.js"></script>
</body>
</html>
